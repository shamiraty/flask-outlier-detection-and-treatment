<!-- templates/clean_data.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Cleaned Data - Winsorization</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap"
    rel="stylesheet"
  />
  <!-- Font Awesome CSS -->
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    crossorigin="anonymous"
    referrerpolicy="no-referrer"
  />
  <style>
    body {
      font-family: "Inter", sans-serif;
      background-color: #f0f2f5;
      padding-top: 70px; /* navbar height */
    }
    .table-container {
      max-height: 70vh;
      overflow-y: auto;
    }
  </style>
</head>
  <nav class="fixed top-0 left-0 right-0 z-50 mb-12 bg-blue-600 shadow-md">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex justify-between h-14 items-center">
        <div class="flex space-x-8">
          <a href="/" class="flex items-center text-white font-medium hover:text-blue-200 transition-colors duration-200">
            <i class="fas fa-home mr-2"></i>
            Home
          </a>
          <a href="/clean_data" class="flex items-center text-white font-medium hover:text-blue-200 transition-colors duration-200">
            <i class="fas fa-table mr-2"></i>
            Cleaned Data
          </a>
        </div>
      </div>
    </div>
  </nav>
<body class="p-4 sm:p-8 mt-12 bg-gray-100 min-h-screen">
  <div class="max-w-4xl mx-auto bg-white p-8 rounded-lg shadow-xl space-y-8">
    <section class="text-center">
      <h2 class="text-3xl sm:text-4xl font-extrabold text-indigo-700 mb-2">
        Outlier Treatment Method: Winsorization
      </h2>
      <p class="text-indigo-500 italic mb-8 sm:mb-12">
        Commonly used in finance, economics, and survey analysis.
      </p>
      <h3 class="text-2xl font-semibold text-gray-800 mb-4">
        5% â€“ 95% Winsorization (Standard)
      </h3>
      <p class="text-gray-600 text-lg leading-relaxed max-w-xl mx-auto">
        Winsorization limits the effect of extreme outliers by replacing values
        below the 5th percentile and above the 95th percentile with the respective
        percentile values. This preserves data shape while reducing distortion.
      </p>
    </section>

    <section class="table-container border border-gray-200 rounded-lg shadow-sm">
      <table class="min-w-full divide-y divide-gray-200">
        <thead class="bg-gray-50 sticky top-0">
          <tr>
            <th
              scope="col"
              class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider rounded-tl-lg"
            >
              Original Age
            </th>
            <th
              scope="col"
              class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider rounded-tr-lg"
            >
              Winsorized Age
            </th>
          </tr>
        </thead>
        <tbody class="bg-white divide-y divide-gray-200">
          {% for row in data %}
          <tr>
            <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-900">
              {{ row['age'] }}
            </td>
            <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-900">
              {{ row['age_winsorized'] }}
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </section>
  </div>
</body>
</html>
